function deviantARTGalleryPlugin(f,e,c){var a=document.getElementById("deviantART-gallery");a.innerHTML='<div id="ss__wrapper"></div><div id="ss__controls"><div id="ss__prev"><div id="ss__prevChev"></div></div><div id="ss__next"><div id="ss__nextChev"></div></div><div id="ss__dots"></div></div></div>';var b=[];(function d(){var g="http://backend.deviantart.com/rss.xml?q=gallery:"+f+"/"+e;window.callback=i;var h=document.createElement("script");h.src="http://query.yahooapis.com/v1/public/yql?q="+escape('select * from xml where url="'+g+'"')+"&_maxage=86400&format=json&callback=callback";document.body.appendChild(h);function i(p){var m=p.query.results.rss.channel.item;for(var o=0,k=m.length;o<k;o++){var n={};n.title=m[o].title[0];n.image=m[o].content.url;b.push(n)}var j="";for(var o=0,k=b.length;o<k;o++){j+='<img src="'+b[o].image+'" alt="'+b[o].title+'"/>'}document.getElementById("ss__wrapper").innerHTML=j;simpleslider(c)}})()}function simpleslider(b,m,o,f){var x=document.getElementById("deviantART-gallery"),d=document.getElementById("ss__wrapper"),D=document.getElementById("ss__controls"),G=document.getElementById("ss__prev"),K=document.getElementById("ss__next"),v=document.getElementById("ss__dots"),H=d.getElementsByTagName("img"),J=m||H.length,n=b,h=o,j=f,s=0,B=J*20,t=0,e=0;var u=n.split(":");var r=u[1]/u[0]*100;x.style.paddingBottom=d.style.paddingBottom=r+"%";v.style.width=B+"px";function c(){t=d.offsetWidth;e=d.offsetHeight}c();for(var A=0;A<J;A++){var a=document.createElement("div");a.className="ss__dot ss__frame"+[A];v.appendChild(a)}ssAllDots=v.getElementsByTagName("div");if(H.length==0){for(var A=1;A<=J;A++){var p=new Image();p.src=o+"/"+f+A+".jpg";d.innerHTML+=p.outerHTML}H=d.getElementsByTagName("img")}for(var A=0,w=H.length;A<w;A++){z(H[A])}function z(l){var i=new Image();i.src=l.src;var L=setInterval(function(){if(i.width!=0&&i.height!=0){clearInterval(L);if((i.width/i.height)<(t/e)){l.className+=" full-width"}else{l.className+=" full-height"}C()}},0)}function C(){for(var M=0,L=H.length;M<L;M++){if(H[M].width>=t){H[M].style.left=(t-H[M].width)/2+"px"}if(H[M].height>=e){H[M].style.top=(e-H[M].height)/2+"px"}}}function F(i){H[i].className+=" current";ssAllDots[i].className+=" current"}function q(){for(var l=0;l<J;l++){H[l].className=H[l].className.replace(/ current/,"");ssAllDots[l].className=ssAllDots[l].className.replace(/ current/,"")}}function I(i){if(i>=J){s=0}else{if(i<0){s=J-1}else{s=i}}}F(0);if(window.addEventListener){G.addEventListener("click",g);K.addEventListener("click",k)}else{if(window.attachEvent){G.attachEvent("onclick",g);K.attachEvent("onclick",k)}}function g(){q();I(s-1);F(s)}function k(){q();I(s+1);F(s)}for(var A=0;A<J;A++){if(window.addEventListener){ssAllDots[A].addEventListener("click",E)}else{if(window.attachEvent){ssAllDots[A].attachEvent("onclick",E)}}}function E(l){if(l.target){var i=l.target.className}else{if(l.srcElement){var i=l.srcElement.className}}var L=i.match(/\d+/);q();I(parseInt(L[0]));F(L[0])}document.onkeydown=function(i){evt=i||window.event;switch(evt.keyCode){case 37:g();break;case 39:k();break}};if(window.addEventListener){window.addEventListener("resize",y)}else{if(window.attachEvent){window.attachEvent("onresize",y)}}function y(){c();C()}};
